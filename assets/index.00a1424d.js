import{T as a,g as e,a as t}from"./index.eaf706b8.js";import{K as s,r as l,j as i,a as n,o,s as r,D as u}from"./lib.84a4b944.js";const m={__name:"index",setup(m){const v=s(),d=l([]),p=l([]),w=l([]),c=l([]),g=l({template_filter:"nomal",template_level:"nomal",points:1}),f=l(!1),h=l(v.query.template_id),y=l({canvasData:{name:v.query.file_name||"",width:2048,height:2048}}),D=l({groups:{},layers:{},elements:{}}),L=()=>{window.loading||(window.loading=a()),Promise.all([new Promise((a=>{e("colors").then((e=>{w.value=e.data,a()}))})),new Promise((a=>{e("texts").then((e=>{c.value=e.data,a()}))})),new Promise((a=>{e("prompts").then((e=>{d.value=e.data,a()}))})),new Promise((a=>{e("statics").then((e=>{p.value=e.data,a()}))})),new Promise((a=>{y.value.canvasData.name?t(h.value,"layouts",y.value.canvasData.name).then((e=>{y.value=Object.assign(y.value,e.data.viewData),D.value=e.data.layerData,g.value=e.info,a()})):a()}))]).then((()=>{f.value=!0,window.loading.close(),window.loading=null}))};return i((()=>{L()})),(a,e)=>{const t=n("modelEditor");return f.value?(o(),r(t,{key:0,colorsList:w.value,textsList:c.value,editorType:"edit",promptsList:d.value,staticsList:p.value,setting:y.value,layerData:D.value,templateId:h.value,info:g.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData","templateId","info"])):u("",!0)}}};export{m as default};
