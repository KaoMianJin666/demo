import{T as e}from"./TLoading-1DlggUG-.js";import{Q as a,K as t,r as o,o as s,m as l,n,u as i,B as r,C as d,p as c,J as p,H as u,F as m,A as _,w as y,v as b,E as g,j as v,k as w,y as f,D as h}from"./lib-COJami17.js";import{g as k,d as T}from"./promptSetting-D0mlxHpR.js";import{m as j}from"./modelCard-DGMHK2q3.js";import{o as S}from"./opInput-BeVgCfES.js";import{l as x}from"./logo2-l66aD4rS.js";import{j as C,t as D}from"./index-BKne-HHw.js";import{_ as I}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-NVVJCkDG.js";/* empty css                                                                 */const q={class:"main-body"},z={class:"search-input"},E={class:"search-input-box"},H={class:"logo-area"},G=["src"],U={class:"search-input-area"},A={class:"filter-area"},B={class:"filter-type"},F=["onClick"],J={class:"other-filter"},K={class:"module-list"},L=I({__name:"index",props:{class:{},componentType:{type:String,default:"router"},type:{type:String,default:null}},emits:["setData"],setup(I,{emit:L}){const N=a(),P=t(),Q=I,M=L,O=b(),R=o({}),V=g(),W=Q.type||V.query.type,X={prompts:"动态资源",statics:"静态资源",texts:"文字资源",colors:"调色板资源",designs:"设计理念"},Y=[{name:"公共模板",code:0},{name:"私有模板",code:1}],Z=o(0),$=[{label:"测试类型",key:"marina bay sands",disabled:!0},{label:"测试类型",key:"brown's hotel, london"},{label:"测试类型",key:"atlantis nahamas, nassau"},{label:"测试类型",key:"the beverly hills hotel, los angeles"}],ee=()=>{k(W).then((e=>{R.value=e.data}))},ae=({resource_id:a,resource_name:t,preview:o})=>{"router"===Q.componentType?(window.loading=e(),O.push({path:"/basic/resourceInfo",query:{type:W,id:a}})):M("setData",{resource_id:a,resource_name:t,preview:o})};return s((()=>{window.loading||"router"!==Q.componentType||(window.loading=e()),ee(),setTimeout((()=>{window.loading&&(window.loading.close(),window.loading=null)}),300)})),(a,t)=>{const o=v("n-button"),s=v("n-dropdown"),b=v("n-scrollbar");return w(),l("div",q,[n("div",z,[n("div",E,[n("div",H,[n("img",{src:i(x)},null,8,G),n("label",null,r(X[i(W)]),1),n("i",{class:d(["bi logo-icon",i(C)])},null,2)]),n("div",U,[c(S,{needTools:!1})]),"router"===I.componentType?(w(),l("div",{key:0,class:"add-btn",onClick:t[0]||(t[0]=e=>ae({resource_id:null}))}," 新建资料 ")):p("",!0)])]),n("div",A,[n("div",B,[n("div",{class:"filter-type-bg",style:u({left:2.6*Z.value+"rem"})},null,4),(w(),l(m,null,_(Y,(e=>n("div",{class:d(["filter-type-item",{selected:Z.value===e.code}]),key:e.code,onClick:a=>Z.value=e.code},r(e.name),11,F))),64))]),n("div",J,[c(s,{placement:"bottom-start",trigger:"click",size:"small",options:$,onSelect:a.handleSelect},{default:y((()=>[c(o,{class:"dropdown-btn",tertiary:""},{default:y((()=>[t[1]||(t[1]=f(" 面料筛选 ")),n("i",{class:d(["dropdown-btn-icon bi",i(D)])},null,2)])),_:1})])),_:1},8,["onSelect"]),c(s,{placement:"bottom-start",trigger:"click",size:"small",options:$,onSelect:a.handleSelect},{default:y((()=>[c(o,{class:"dropdown-btn",tertiary:""},{default:y((()=>[t[2]||(t[2]=f(" 风格筛选 ")),n("i",{class:d(["dropdown-btn-icon bi",i(D)])},null,2)])),_:1})])),_:1},8,["onSelect"]),c(s,{placement:"bottom-start",trigger:"click",size:"small",options:$,onSelect:a.handleSelect},{default:y((()=>[c(o,{class:"dropdown-btn",tertiary:""},{default:y((()=>[t[3]||(t[3]=f(" 元素筛选 ")),n("i",{class:d(["dropdown-btn-icon bi",i(D)])},null,2)])),_:1})])),_:1},8,["onSelect"])])]),n("div",K,[c(b,null,{default:y((()=>[(w(!0),l(m,null,_(R.value,(a=>(w(),h(j,{class:d(Q.class),key:a.resource_id,"preview-disabled":"",data:{name:a.resource_name,preview:a.preview},onToUpdate:()=>{(({template_name:a,template_id:t})=>{window.loading=e(),setTimeout((()=>{O.push({path:"modelEditor",query:{file_name:a,template_id:t}})}),300)})(a)},onDeleteItem:()=>{(({name:e,resource_id:a})=>{N.warning({title:"警告",content:"删除操作不可逆，请确认是否继续",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{T({resource_id:a,resource_type:W,resource_name:e}).then((e=>{200===e.code&&(ee(),P.success("删除成功"))}))},onNegativeClick:()=>{P.info("取消删除")}})})({name:a.resource_name,resource_id:a.resource_id})},"need-go-handle":"",needEdit:!1,onGoHandle:()=>{ae(a)}},null,8,["class","data","onToUpdate","onDeleteItem","onGoHandle"])))),128))])),_:1})])])}}},[["__scopeId","data-v-9045b403"]]);export{L as default};
