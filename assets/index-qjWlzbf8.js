import{T as e}from"./TLoading-DiViiRSi.js";import{P as a,L as t,r as s,o,m as n,n as l,F as i,A as r,u as d,H as c,p,w as u,v as m,E as _,j as y,k as w,C as v,B as b,y as g,D as f}from"./lib-CKDAqxUM.js";import{g as k,d as h}from"./promptSetting-DYZR4Zy5.js";import{a as x}from"./artwork-DCQ-_8A2.js";import{m as S}from"./modelCard-ClBoAkJB.js";import{t as j}from"./index-ozdrtwfE.js";import"./index-QuXMKZDh.js";/* empty css                                                                */import{_ as T}from"./_plugin-vue_export-helper-BCo6x5W8.js";/* empty css                                                                 */const C={class:"main-body"},D={class:"filter-area"},I={class:"filter-type"},z=["onClick"],H={class:"other-filter"},q={class:"module-list"},E=T({__name:"index",props:{class:{},componentType:{type:String,default:"router"},type:{type:String,default:null}},emits:["setData"],setup(T,{emit:E}){const G=a(),L=t(),P=T,A=E,B=m(),F=s({}),N=_(),J=P.type||N.query.type,K=[{name:{prompts:"动态资源",statics:"静态资源",texts:"文字资源",colors:"调色板资源",designs:"设计理念",demand:"需求分析"}[J],code:0}],M=s(0),O=[{label:"测试类型",key:"marina bay sands",disabled:!0},{label:"测试类型",key:"brown's hotel, london"},{label:"测试类型",key:"atlantis nahamas, nassau"},{label:"测试类型",key:"the beverly hills hotel, los angeles"}],Q=()=>{"demand"!==J?k(J).then((e=>{F.value=e.data})):x().then((e=>{F.value=e.data.map((e=>({resource_name:e.artwork_name,resource_id:e.artwork_id,preview:e.preview})))}))},R=({resource_id:a,resource_name:t,preview:s})=>{"router"===P.componentType?(window.loading=e(),B.push({path:"/basic/resourceInfo",query:{type:J,id:a}})):A("setData",{resource_id:a,resource_name:t,preview:s})};return o((()=>{window.loading||"router"!==P.componentType||(window.loading=e()),Q(),setTimeout((()=>{window.loading&&(window.loading.close(),window.loading=null)}),300)})),(e,a)=>{const t=y("n-input"),s=y("n-button"),o=y("n-dropdown"),m=y("n-scrollbar");return w(),n("div",C,[l("div",D,[l("div",I,[(w(),n(i,null,r(K,(e=>l("div",{class:v(["filter-type-item",{selected:M.value===e.code}]),key:e.code,onClick:a=>M.value=e.code},b(e.name),11,z))),64)),"demand"!==d(J)?(w(),n("div",{key:0,class:"filter-type-item",onClick:a[0]||(a[0]=e=>R({}))}," 添加资料 ")):c("",!0)]),l("div",H,[p(t,{class:"search-input"},{prefix:u((()=>a[1]||(a[1]=[l("i",{class:"search-icon bi bi-search"},null,-1)]))),_:1}),p(o,{placement:"bottom-start",trigger:"click",size:"small",options:O,onSelect:e.handleSelect},{default:u((()=>[p(s,{class:"dropdown-btn",tertiary:""},{default:u((()=>[a[2]||(a[2]=g(" 面料筛选 ")),l("i",{class:v(["dropdown-btn-icon bi",d(j)])},null,2)])),_:1})])),_:1},8,["onSelect"]),p(o,{placement:"bottom-start",trigger:"click",size:"small",options:O,onSelect:e.handleSelect},{default:u((()=>[p(s,{class:"dropdown-btn",tertiary:""},{default:u((()=>[a[3]||(a[3]=g(" 风格筛选 ")),l("i",{class:v(["dropdown-btn-icon bi",d(j)])},null,2)])),_:1})])),_:1},8,["onSelect"]),p(o,{placement:"bottom-start",trigger:"click",size:"small",options:O,onSelect:e.handleSelect},{default:u((()=>[p(s,{class:"dropdown-btn",tertiary:""},{default:u((()=>[a[4]||(a[4]=g(" 元素筛选 ")),l("i",{class:v(["dropdown-btn-icon bi",d(j)])},null,2)])),_:1})])),_:1},8,["onSelect"])])]),l("div",q,[p(m,null,{default:u((()=>[(w(!0),n(i,null,r(F.value,(e=>(w(),f(S,{class:v(P.class),key:e.resource_id,"preview-disabled":"",data:{name:e.resource_name,preview:e.preview},onDeleteItem:()=>{(({name:e,resource_id:a})=>{G.warning({title:"警告",content:"删除操作不可逆，请确认是否继续",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{h({resource_id:a,resource_type:J,resource_name:e}).then((e=>{200===e.code&&(Q(),L.success("删除成功"))}))},onNegativeClick:()=>{L.info("取消删除")}})})({name:e.resource_name,resource_id:e.resource_id})},"need-go-handle":"",needEdit:!1,needDelete:!1,onGoHandle:()=>{R(e)}},null,8,["class","data","onDeleteItem","onGoHandle"])))),128))])),_:1})])])}}},[["__scopeId","data-v-5d676e8e"]]);export{E as default};
