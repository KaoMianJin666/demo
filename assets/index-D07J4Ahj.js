import{T as e}from"./TLoading-DaX5hBaF.js";import{O as o,u as a,r as t,o as s,i as l,j as n,x as i,s as r,y as d,k as c,C as p,A as m,F as u,q as b,D as g,m as y,w as _,g as v,h as w,p as f,v as h}from"./lib-BPhyYzwe.js";import{g as k,d as j}from"./promptSetting-BkradiJE.js";import{m as T}from"./modelCard-BfBzYjwH.js";import{o as S}from"./opInput-MRrx2hg-.js";import{l as x}from"./logo2-l66aD4rS.js";import{j as C,t as D}from"./index-Z7iGqVdO.js";import{_ as I}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-BPuUIeLS.js";import"./modelEditor-CkwFY-_5.js";const q={class:"main-body"},z={class:"search-input"},E={class:"search-input-box"},G={class:"logo-area"},H=["src"],U={class:"search-input-area"},A={class:"filter-area"},F={class:"filter-type"},L=["onClick"],N={class:"other-filter"},O={class:"module-list"},P=I({__name:"index",props:{class:{},componentType:{type:String,default:"router"},type:{type:String,default:null}},emits:["setData"],setup(I,{emit:P}){const B=o(),J=a(),K=I,M=P,Q=y(),R=t({}),V=_(),W=K.type||V.query.type,X={prompts:"动态资源",statics:"静态资源",texts:"文字资源",colors:"调色板资源",designs:"设计理念"},Y=[{name:"公共模板",code:0},{name:"私有模板",code:1}],Z=t(0),$=[{label:"测试类型",key:"marina bay sands",disabled:!0},{label:"测试类型",key:"brown's hotel, london"},{label:"测试类型",key:"atlantis nahamas, nassau"},{label:"测试类型",key:"the beverly hills hotel, los angeles"}],ee=()=>{k(W).then((e=>{R.value=e.data}))},oe=({resource_id:o,resource_name:a,preview:t})=>{"router"===K.componentType?(window.loading=e(),Q.push({path:"/basic/resourceInfo",query:{type:W,id:o}})):M("setData",{resource_id:o,resource_name:a,preview:t})};return s((()=>{window.loading||"router"!==K.componentType||(window.loading=e()),ee(),setTimeout((()=>{window.loading&&(window.loading.close(),window.loading=null)}),300)})),(o,a)=>{const t=v("n-button"),s=v("n-dropdown"),y=v("n-scrollbar");return w(),l("div",q,[n("div",z,[n("div",E,[n("div",G,[n("img",{src:i(x)},null,8,H),n("label",null,r(X[i(W)]),1),n("i",{class:d(["bi logo-icon",i(C)])},null,2)]),n("div",U,[c(S,{needTools:!1})]),"router"===I.componentType?(w(),l("div",{key:0,class:"add-btn",onClick:a[0]||(a[0]=e=>oe({resource_id:null}))}," 新建资料 ")):p("",!0)])]),n("div",A,[n("div",F,[n("div",{class:"filter-type-bg",style:m({left:2.6*Z.value+"rem"})},null,4),(w(),l(u,null,b(Y,(e=>n("div",{class:d(["filter-type-item",{selected:Z.value===e.code}]),key:e.code,onClick:o=>Z.value=e.code},r(e.name),11,L))),64))]),n("div",N,[c(s,{placement:"bottom-start",trigger:"click",size:"small",options:$,onSelect:o.handleSelect},{default:g((()=>[c(t,{class:"dropdown-btn",tertiary:""},{default:g((()=>[a[1]||(a[1]=f(" 面料筛选 ")),n("i",{class:d(["dropdown-btn-icon bi",i(D)])},null,2)])),_:1})])),_:1},8,["onSelect"]),c(s,{placement:"bottom-start",trigger:"click",size:"small",options:$,onSelect:o.handleSelect},{default:g((()=>[c(t,{class:"dropdown-btn",tertiary:""},{default:g((()=>[a[2]||(a[2]=f(" 风格筛选 ")),n("i",{class:d(["dropdown-btn-icon bi",i(D)])},null,2)])),_:1})])),_:1},8,["onSelect"]),c(s,{placement:"bottom-start",trigger:"click",size:"small",options:$,onSelect:o.handleSelect},{default:g((()=>[c(t,{class:"dropdown-btn",tertiary:""},{default:g((()=>[a[3]||(a[3]=f(" 元素筛选 ")),n("i",{class:d(["dropdown-btn-icon bi",i(D)])},null,2)])),_:1})])),_:1},8,["onSelect"])])]),n("div",O,[c(y,null,{default:g((()=>[(w(!0),l(u,null,b(R.value,(o=>(w(),h(T,{class:d(K.class),key:o.resource_id,"preview-disabled":"",data:{name:o.resource_name,preview:o.preview},onToUpdate:()=>{(({template_name:o,template_id:a})=>{window.loading=e(),setTimeout((()=>{Q.push({path:"modelEditor",query:{file_name:o,template_id:a}})}),300)})(o)},onDeleteItem:()=>{(({name:e,resource_id:o})=>{B.warning({title:"警告",content:"删除操作不可逆，请确认是否继续",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{j({resource_id:o,resource_type:W,resource_name:e}).then((e=>{200===e.code&&(ee(),J.success("删除成功"))}))},onNegativeClick:()=>{J.info("取消删除")}})})({name:o.resource_name,resource_id:o.resource_id})},"need-go-handle":"",needEdit:!1,onGoHandle:()=>{oe(o)}},null,8,["class","data","onToUpdate","onDeleteItem","onGoHandle"])))),128))])),_:1})])])}}},[["__scopeId","data-v-9045b403"]]);export{P as default};
