import{T as a,g as e,a as t}from"./index.5f453e7d.js";import{r as s,o as n,f as l,b as i,y as o,B as r,e as u}from"./lib.79771c61.js";const m={__name:"index",setup(m){const v=o(),c=s([]),d=s([]),p=s(!1),w=s({canvasData:{name:v.query.file_name||"",width:2048,height:2048}}),g=s({groups:{},layers:{},elements:{}}),y=()=>{window.loading||(window.loading=a()),Promise.all([new Promise((a=>{e("prompts").then((e=>{const t=e?e.templates:{};c.value=Object.keys(t),a()}))})),new Promise((a=>{e("statics").then((e=>{const t=e?e.templates:{};d.value=Object.keys(t),a()}))})),new Promise((a=>{w.value.canvasData.name?t("layouts",w.value.canvasData.name).then((e=>{w.value=Object.assign(w.value,e.viewData),g.value=e.layerData,a()})):a()}))]).then((()=>{p.value=!0,window.loading.close(),window.loading=null}))};return n((()=>{y()})),(a,e)=>{const t=r("modelEditor");return p.value?(u(),l(t,{key:0,editorType:"generate",layerData:g.value,promptsList:c.value,staticsList:d.value,setting:w.value},null,8,["layerData","promptsList","staticsList","setting"])):i("",!0)}}};export{m as default};
