import{T as a,g as e,a as t}from"./index.3712656f.js";import{r as l,P as s,j as n,s as i,k as o,J as r,a as u,o as m,B as v}from"./lib.b70eb088.js";const d={__name:"index",setup(d){const p=r(),w=l([]),c=l([]),g=l(!1),y=l(p.query.template_id),f=l({template_filter:"normal",template_level:"normal",points:1}),h=l({canvasData:{name:p.query.file_name||"",width:2048,height:2048}}),D=l({groups:{},layers:{},elements:{}});s((()=>p.query.template_id),((a,e)=>{y.value=a,g.value=!1,v((()=>{g.value=!0}))}));const _=()=>{window.loading||(window.loading=a()),Promise.all([new Promise((a=>{e("prompts").then((e=>{w.value=e.data,a()}))})),new Promise((a=>{e("statics").then((e=>{c.value=e.data,a()}))})),new Promise((a=>{h.value.canvasData.name?t(y.value,"layouts",h.value.canvasData.name).then((e=>{h.value=Object.assign(h.value,e.data.viewData),D.value=e.data.layerData,f.value=e.data.info,a()})):a()}))]).then((()=>{g.value=!0,window.loading.close(),window.loading=null}))};return n((()=>{_()})),(a,e)=>{const t=u("modelEditor");return g.value?(m(),i(t,{key:0,editorType:"generate",info:f.value,templateId:y.value,layerData:D.value,promptsList:w.value,staticsList:c.value,setting:h.value},null,8,["info","templateId","layerData","promptsList","staticsList","setting"])):o("",!0)}}};export{d as default};
