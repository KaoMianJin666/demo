import{i as e,g as a,b as l}from"./cloud.c7be917d.js";import{f as t,h as u,k as o,w as s,r as d,o as n,i,c,j as v,M as m,E as r,N as p,p as h,n as f}from"./lib.cb02d3e4.js";import{_ as V,b as k}from"./index.1a6ae9aa.js";const b=e=>(h("data-v-68a0faf8"),e=e(),f(),e),x={class:"texture-body"},_={class:"texture-input-area"},g={class:"texture-upload"},y={class:"texture-input"},U={class:"texture-handle"},w={class:"texture-handle-btn-area"},C=b((()=>i("span",{class:"handle-btn-text"}," 随机一下 ",-1))),$=b((()=>i("span",{class:"handle-btn-text"}," 生成 ",-1))),j={class:"checkout-handle"},D={class:"checkout-item"},z=b((()=>i("label",{class:"checkout-label"}," 风格参考 ",-1))),F={class:"checkout-setting"},I={class:"checkout-handle"},L={class:"checkout-item"},R=b((()=>i("label",{class:"checkout-label"}," 结构参考 ",-1))),S={class:"checkout-setting"},A={class:"checkout-handle"},E={class:"checkout-item"},M=b((()=>i("label",{class:"checkout-label"}," 准确结构参考 ",-1))),N={class:"checkout-setting"},q={class:"checkout-handle"},B={class:"checkout-item"},G=b((()=>i("label",{class:"checkout-label"}," 原图相似度 ",-1))),H={class:"checkout-setting"};var J=V({__name:"index",setup(h){const f=t(""),V=t(null),b=t(null),J=t(50),K=t(3),O=t([]),P=t(!1),Q=["Style","Style Composition","Lineart","Image edit"],T=()=>{a().then((e=>{f.value=e}))},W=e=>{if(e.size>104857600)return r.error(`您所上传的${e.name}文件大于100mb`),!1;V.value=e;const a=new FileReader;return a.onload=({target:e})=>{b.value=e.result},a.readAsDataURL(e),!1},X=()=>{if(!V.value)return void r.error("请上传图片后操作");const e=new FormData;e.append("ref_image",V.value);const a={formData:e,prompt:f.value,width:1024,height:1024,ref_type:Q[K.value],ref_sim:J.value/100};P.value=!0,l(a).then((e=>{P.value=!1,O.value.unshift(`${k}/1n/${e}`)}))};return(a,l)=>{const t=d("el-image"),r=d("el-icon"),h=d("el-upload"),V=d("el-input"),k=d("el-button"),Q=d("el-radio"),Y=d("el-slider");return n(),u("div",x,[o(e,{title:"单张图修改",modelValue:O.value,"onUpdate:modelValue":l[13]||(l[13]=e=>O.value=e),"is-loading":P.value},{input:s((()=>[i("div",_,[i("div",g,[o(h,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":W},{default:s((()=>[b.value?(n(),c(t,{key:0,src:b.value,class:"avatar"},null,8,["src"])):(n(),c(r,{key:1,class:"avatar-uploader-icon"},{default:s((()=>[o(v(p))])),_:1}))])),_:1})]),i("div",y,[o(V,{class:"texture-input-item",type:"textarea",modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=e=>f.value=e),"show-word-limit":"",resize:"none"},null,8,["modelValue"])]),i("div",U,[i("div",w,[o(k,{class:"handle-btn",onClick:T},{default:s((()=>[C])),_:1}),o(k,{class:"handle-btn",onClick:X},{default:s((()=>[$])),_:1})]),i("div",j,[i("div",D,[o(Q,{onChange:l[1]||(l[1]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[2]||(l[2]=e=>K.value=e),value:0},{default:s((()=>[z])),_:1},8,["modelValue"])]),i("div",F,[0===K.value?(n(),c(Y,{key:0,"format-tooltip":e=>`风格相似度 ${J.value}%`,modelValue:J.value,"onUpdate:modelValue":l[3]||(l[3]=e=>J.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])]),i("div",I,[i("div",L,[o(Q,{onChange:l[4]||(l[4]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[5]||(l[5]=e=>K.value=e),value:1},{default:s((()=>[R])),_:1},8,["modelValue"])]),i("div",S,[1===K.value?(n(),c(Y,{key:0,"format-tooltip":e=>`结构相似度 ${J.value}%`,modelValue:J.value,"onUpdate:modelValue":l[6]||(l[6]=e=>J.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])]),i("div",A,[i("div",E,[o(Q,{onChange:l[7]||(l[7]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[8]||(l[8]=e=>K.value=e),value:2},{default:s((()=>[M])),_:1},8,["modelValue"])]),i("div",N,[2===K.value?(n(),c(Y,{key:0,"format-tooltip":e=>`结构相似度 ${J.value}%`,modelValue:J.value,"onUpdate:modelValue":l[9]||(l[9]=e=>J.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])]),i("div",q,[i("div",B,[o(Q,{onChange:l[10]||(l[10]=e=>J.value=50),modelValue:K.value,"onUpdate:modelValue":l[11]||(l[11]=e=>K.value=e),value:3},{default:s((()=>[G])),_:1},8,["modelValue"])]),i("div",H,[3===K.value?(n(),c(Y,{key:0,"format-tooltip":e=>`原图相似度 ${J.value}%`,modelValue:J.value,"onUpdate:modelValue":l[12]||(l[12]=e=>J.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])])])])])),_:1},8,["modelValue","is-loading"])])}}},[["__scopeId","data-v-68a0faf8"]]);export{J as default};
