import{t as e,r as a,g as l,h as s,i,v as t,C as u,y as n,j as o,s as d,k as c,F as r,q as v,z as m,A as g,D as p,B as f,o as b,x as y,p as _,G as C,H as x,T as I,E as k}from"./lib-Dn7wYpIU.js";import{_ as w}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{l as h}from"./logo2-l66aD4rS.js";import{o as T}from"./opInput-B-ZWDGx8.js";import{T as j}from"./TLoading-FusFGd4y.js";import{u as S}from"./index-B9TnIHOe.js";import{c as D,d as O,e as B,g as M,m as $,h as V,i as R}from"./index-ZrP_5N1V.js";import"./modelEditor-CaOQ26LY.js";const P="/assets/barrage-ud4ZyC8D.png",F="/assets/card-Bj8nOcCG.png",G=w({__name:"cardImageCard",props:{data:{type:Object,default:()=>({preview:null,name:null})}},setup(o){const{publicStore:d}=S(),c=e(d,"isCarryOut"),r=o;a([]);const v=a(!0),m=a("imageDom");return(e,a)=>{const o=l("n-image");return s(),i("div",{class:n(["data-item",{expand:!c.value}])},[v.value?(s(),t(o,{key:0,ref_key:"imageDom",ref:m,width:"100%","object-fit":"cover","preview-disabled":"",src:r.data.preview,class:"model-image",fit:"contain"},null,8,["src"])):u("",!0)],2)}}},[["__scopeId","data-v-0edae8af"]]),Z={class:"icon-area"},A={class:"message-area"},Y={class:"data-name"},q={class:"data-num"},z=w({__name:"cardDataCard",props:["data"],setup(a){const l=a,{publicStore:t}=S(),u=e(t,"isCarryOut"),c=e(l,"data"),r=()=>{let e=c.value.infoMessage;return e=e.replaceAll("val",c.value.value),e};return(e,a)=>(s(),i("div",{class:n(["data-item",{expand:!u.value}])},[o("div",Z,[o("i",{class:n(["bi",c.value.icon])},null,2)]),o("div",A,[o("div",Y,d(c.value.name),1),o("div",q,d(r()),1)])],2))}},[["__scopeId","data-v-7a4dd5fa"]]),E={class:"main-message-area"},H={class:"image-area"},L={class:"card-arae"},X={class:"tags-area"},J={class:"other-image-area"},K={class:"other-image-card"},N=w({__name:"card-design-concept",props:["image","tags","otherImages","componentInView"],setup(u){const{publicStore:m}=S(),g=e(m,"isCarryOut"),p=u,f=e(p,"componentInView"),b=e(p,"image"),y=e(p,"tags"),_=e(p,"otherImages"),C=a([{name:"资源火爆程度",infoMessage:"最近生成val次",value:200,icon:D},{name:"采用设计理念",infoMessage:"val个",value:20,icon:O},{name:"采用色彩资源",infoMessage:"val个",value:20,icon:B},{name:"采用动态资源",infoMessage:"val个",value:20,icon:M},{name:"采用静态资源",infoMessage:"val个",value:20,icon:$},{name:"采用字体资源",infoMessage:"val个",value:20,icon:V}]);return(e,a)=>{const u=l("n-image");return s(),i("div",{class:n(["card-design-concept-body",{expand:!g.value,show:f.value}])},[o("div",E,[o("div",H,[c(u,{ref:"imageDom",width:"100%","object-fit":"cover","preview-disabled":"",src:b.value,class:"image-item",fit:"contain"},null,8,["src"])]),o("div",L,[(s(!0),i(r,null,v(C.value,((e,a)=>(s(),t(z,{key:a,data:e},null,8,["data"])))),128))])]),o("div",X,[(s(!0),i(r,null,v(y.value,((e,a)=>(s(),i("label",{class:"tag-item",key:a},d(e),1)))),128))]),o("div",J,[o("div",K,[(s(!0),i(r,null,v(_.value,(a=>(s(),t(G,{key:e.index,data:{preview:a}},null,8,["data"])))),128))])])],2)}}},[["__scopeId","data-v-ba06cd0d"]]),Q={class:"card-prompt-resource-body"};const U=w({},[["render",function(e,a){return s(),i("div",Q," 动态资源 ")}],["__scopeId","data-v-d3e72419"]]),W={class:"card-template-resource-body"};const ee=w({},[["render",function(e,a){return s(),i("div",W," 模板资源 ")}],["__scopeId","data-v-2b50ab01"]]),ae={class:"card-message-tabs"},le=["onClick"],se={class:"card-message-component-view"},ie=w({__name:"card-message",props:["inView"],setup(u){const b=e(u,"inView"),y=a(!1);m(b,(e=>{e&&(x.value=0),setTimeout((()=>{y.value=e}),300)}));const _=[{name:"设计理念",component:N},{name:"模板资源",component:ee},{name:"动态资源",component:U}],C={image:F,tags:["家纺平面设计","卡通风格和可爱ins风","奶牛","胡萝卜","樱桃","莫兰蒂色","家纺平面设计","卡通风格和可爱ins风","奶牛","胡萝卜","樱桃","莫兰蒂色"],otherImage:[F,F,F,F,F,F,F]},x=a(0);return(e,a)=>{const u=l("n-scrollbar");return s(),i("div",{class:n(["card-message-body",{show:b.value}])},[a[0]||(a[0]=o("div",{class:"card-message-title"}," 卡通奶牛主题纹样 ",-1)),o("div",ae,[o("div",{class:"card-mesage-tab-bg",style:g({left:2.2*x.value+"rem"})},null,4),(s(),i(r,null,v(_,((e,a)=>o("div",{class:n(["card-message-tab-item",{selected:x.value===a}]),onClick:e=>x.value=a,key:e.name},d(e.name),11,le))),64))]),o("div",se,[c(u,null,{default:p((()=>[(s(),t(f(_[x.value].component),{componentInView:y.value,image:C.image,otherImages:C.otherImage,tags:C.tags},null,8,["componentInView","image","otherImages","tags"]))])),_:1})])],2)}}},[["__scopeId","data-v-d400fa43"]]),te=["index","step"],ue={class:"card-bg"},ne={class:"card-info"},oe={class:"card-image"},de=["src"],ce={class:"card-tag-area"},re=w({__name:"card",props:["data","index","opened","mousePosition","removingStatus","toInput"],emits:["selectCard","removingCard","setCardBg","setIsFinishInit"],setup(t,{expose:u,emit:d}){const r=t,v=d,f=a(0),x=a(!1),I=a(!1),k=a({}),w=a(null),h=a(!1),T=a(!1),j=e(r,"mousePosition"),S=e(r,"removingStatus"),D=a(!1),O=e(r,"opened"),B=e(r,"toInput");m(O,(e=>{e||(D.value=!1)})),m(B,(e=>{e&&(0!==r.index?f.value=0:f.value=4)}));const M=()=>{let e=0-r.index,a=`rotate(${23+-10*(r.index+1)+90*(f.value-1)}deg) translateZ(${5-5*r.index}rem)`,l="center 80rem";if(2!==f.value&&3!==f.value||(a=`rotate(${20+-15*(r.index+1)}deg)`,l="60% 70%",S.value&&(a=`rotate(${20+-15*r.index}deg)`)),3===f.value&&0===r.index&&!x.value){k.value=w.value.getBoundingClientRect();const s=k.value.x+k.value.width/2;let i=0;s-k.value.width/2>j.value.x?(l="left center",a=`rotate3d(0, 1, ${i},-35deg) translateZ(5rem)`,e=0-30*r.index,v("setCardBg","left")):s+k.value.width/2<j.value.x?(l="right center",a=`rotate3d(0, 1, ${-i},35deg) translateZ(5rem)`,e=0-30*r.index,v("setCardBg","right")):v("setCardBg",null)}return 4===f.value&&(l="top right",a="translateY(2.5rem) translateX(1.5rem) scale(0.01, 0.01)"),{transformOrigin:l,zIndex:e,transform:`${a}`}},$=()=>{f.value+=1,3!==f.value?setTimeout((()=>{$()}),500):v("setIsFinishInit")},V=(e=!0)=>{0===r.index&&(I.value||x.value!==e&&(x.value=e,I.value=!0,x.value?setTimeout((()=>{v("selectCard",e),I.value=!1,setTimeout((()=>{D.value=!0}),300)}),300):setTimeout((()=>{v("selectCard",e),I.value=!1}),300)))};return u({toSelected:V,removeCard:()=>{h.value=!0,v("removingCard"),setTimeout((()=>{T.value=!0}),300)}}),b((()=>{setTimeout((()=>{$()}),1e3)})),(e,a)=>{const u=l("n-tag"),d=l("n-space");return s(),i("div",{class:n(["card-body",{selected:x.value,opened:O.value,removing:h.value,removed:T.value}]),index:t.index,ref_key:"boxRef",ref:w,onClick:a[0]||(a[0]=C((e=>V(!0)),["stop"])),style:g(M()),step:f.value},[o("div",ue,[c(ie,{inView:D.value},null,8,["inView"])]),o("div",ne,[o("div",oe,[o("img",{src:y(F),draggable:!1},null,8,de)]),o("div",ce,[c(d,null,{default:p((()=>[c(u,{bordered:!1},{default:p((()=>a[1]||(a[1]=[_(" 家纺平面设计 ")]))),_:1}),c(u,{bordered:!1},{default:p((()=>a[2]||(a[2]=[_(" 卡通风格和可爱ins风 ")]))),_:1}),c(u,{bordered:!1},{default:p((()=>a[3]||(a[3]=[_(" 奶牛 ")]))),_:1}),c(u,{bordered:!1},{default:p((()=>a[4]||(a[4]=[_(" 胡萝卜 ")]))),_:1}),c(u,{bordered:!1},{default:p((()=>a[5]||(a[5]=[_(" 樱桃 ")]))),_:1}),c(u,{bordered:!1},{default:p((()=>a[6]||(a[6]=[_(" 莫兰蒂色 ")]))),_:1})])),_:1})])])],14,te)}}},[["__scopeId","data-v-05fa2ca8"]]),ve=["type"],me=["type"],ge=["type"],pe=w({__name:"cardBox",props:["list"],emits:["getDataOnce"],setup(e,{expose:l,emit:u}){const d=u,c=a(!1),m=a(!1),p=a(null),f=a(!1),b=a({}),y=a(!1),_=a(null),x=a(!1),I=a(!1),k=e=>{_.value=e},w=()=>{x.value=!0},h=e=>{y.value||f.value||(e?(f.value=!0,c.value=e,setTimeout((()=>{m.value=!0,f.value=!1}),300)):(f.value=!0,m.value=!1,setTimeout((()=>{c.value=e,f.value=!1}),300)))},T=()=>{setTimeout((()=>{d("getDataOnce")}),600)},j=e=>c.value?0===e?"opacity: 1":"opacity: 0;width: 7rem;":"opacity: 1",S=()=>{f.value||(f.value=!0,m.value=!1,setTimeout((()=>{f.value=!1,p.value[0].toSelected(!1)}),300))},D=()=>{y.value||f.value||(y.value=!0,p.value[0].removeCard())},O=()=>{y.value||f.value||(d("toInput"),I.value=!0)};l({initStatus:()=>{f.value=!1,y.value=!1}});const B=e=>{const{pageX:a,pageY:l}=e;b.value={x:a,y:l}};return(a,l)=>(s(),i("div",{class:n(["card-box-body",{selected:m.value,is_finish_init:x.value,inputing:I.value}]),onClick:S,onMousemove:B},[o("div",{class:"left-handle",onClick:l[0]||(l[0]=C((()=>{}),["stop"])),type:_.value},[o("label",{onClick:C(D,["stop"])},"给我换一个!")],8,ve),o("div",{class:n(["card-info-box",{selected:m.value}])},[o("div",{class:"card-bg",type:_.value},null,8,me),(s(!0),i(r,null,v(e.list,((e,a)=>(s(),t(re,{ref_for:!0,ref_key:"cardRef",ref:p,mousePosition:b.value,opened:m.value,style:g(j(a)),key:e.uuid,data:e,onRemovingCard:T,index:a,onSelectCard:h,onSetCardBg:k,onSetIsFinishInit:w,toInput:I.value,removingStatus:y.value},null,8,["mousePosition","opened","style","data","index","toInput","removingStatus"])))),128))],2),o("div",{class:"right-handle",onClick:l[1]||(l[1]=C((()=>{}),["stop"])),type:_.value},[o("label",{onClick:C(O,["stop"])},"试试这个?")],8,ge)],34))}},[["__scopeId","data-v-c32e73bd"]]),fe="/assets/fabrics-1P3fxG-y.png",be={class:"fabrics-list-body"},ye=["onClick","src"],_e=["onClick"],Ce=w({__name:"fabrics-list",setup(e){const l=[{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe},{uuid:x(),name:"纺织棉麻布",image:fe}],t=a(null);return(e,a)=>(s(),i("div",be,[(s(),i(r,null,v(l,(e=>o("div",{class:n(["fabric-card",{selected:t.value===e.uuid}]),key:e.uuid},[o("img",{onClick:a=>t.value=e.uuid,draggable:!1,class:"fabric-image",src:e.image,"object-fit":"cover"},null,8,ye),o("div",{onClick:a=>t.value=e.uuid,class:"fabric-name"},d(e.name)+" "+d(t.value===e.uuid?"(已选择)":""),9,_e)],2))),64))]))}},[["__scopeId","data-v-2baa928a"]]),xe="/assets/stylistics-DpsAnkaw.png",Ie="/assets/stylistic-info-DTMx3CHq.png",ke={class:"stylistic-info-main"},we={class:"stylistic-image"},he=["src"],Te={class:"stylistic-name"},je={class:"stylistic-info-images-preview"},Se=["src"],De=["src"],Oe=w({__name:"stylistic-info",setup(l,{expose:c}){const{publicStore:m}=S(),p=e(m,"isCarryOut"),f=a([]),b=a(!1),_=a(!1),C=a(null),k=a(null),w=a(null),h=a(null),T=a(0),j=()=>{_.value=!1,clearInterval(h.value),h.value=null,setTimeout((()=>{b.value=!1}),200)};return c({init:e=>{C.value=e.uuid,k.value=e.name,w.value=e.image,f.value=[{uuid:x(),image:Ie,name:"雨中山屋0"},{uuid:x(),image:Ie,name:"雨中山屋1"},{uuid:x(),image:Ie,name:"雨中山屋2"}],b.value=!0,setTimeout((()=>{_.value=!0,h.value||(h.value=setInterval((()=>{T.value+=1,T.value===f.value.length&&(T.value=0)}),3e3))}))}}),(e,a)=>(s(),t(I,{to:"body"},[b.value?(s(),i("div",{key:0,class:n(["stylistic-info-body",{expand:!p.value,show:_.value}])},[o("div",ke,[o("div",{class:"back-btn",onClick:j},[o("i",{class:n(["bi",y(R)])},null,2)]),o("div",we,[o("img",{src:w.value},null,8,he)]),o("div",Te,d(k.value),1),o("div",je,[o("div",{class:"preview-bg",style:g({left:`calc(${5.5*T.value}rem - 2px)`})},null,4),(s(!0),i(r,null,v(f.value,((e,a)=>(s(),i("div",{class:n(["preview-item",{selected:T.value===a}]),key:e.uuid},[o("img",{src:e.image},null,8,Se)],2)))),128))])]),o("div",{class:"stylistic-info-images",style:g({transform:`translateY(${-17.391*T.value+4.34775}rem)`})},[(s(!0),i(r,null,v(f.value,((e,a)=>(s(),i("div",{class:n(["info-image-item",{selected:T.value===a}]),key:e.uuid},[o("img",{src:e.image},null,8,De)],2)))),128))],4)],2)):u("",!0)]))}},[["__scopeId","data-v-386d6dda"]]),Be={class:"stylistics-list-body"},Me=["onClick","src"],$e=["onClick"],Ve=w({__name:"stylistic-list",setup(e){const l=[{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe},{uuid:x(),name:"蓝黄质感漆面",image:xe}],t=a(null),u=a(null),m=e=>{t.value.init(e)};return(e,a)=>(s(),i("div",Be,[(s(),i(r,null,v(l,(e=>o("div",{class:n(["stylistic-card",{selected:u.value===e.uuid}]),key:e.uuid},[o("img",{onClick:a=>m(e),draggable:!1,class:"stylistic-image",src:e.image,"object-fit":"cover"},null,8,Me),o("div",{onClick:a=>m(e),class:"stylistic-name"},d(e.name)+" "+d(u.value===e.uuid?"(已选择)":""),9,$e)],2))),64)),c(Oe,{ref_key:"stylisticInfoDom",ref:t},null,512)]))}},[["__scopeId","data-v-0ebc832a"]]),Re={class:"input-tools-body"},Pe={class:"input-tools-tabs"},Fe=["onClick"],Ge={class:"tools-info-view"},Ze=w({__name:"input-tools",setup(e){const u=[{name:"布料选择",components:Ce},{name:"风格参考",components:Ve},{name:"作品参考",components:null}],m=a(0);return(e,a)=>{const b=l("n-scrollbar");return s(),i("div",Re,[a[0]||(a[0]=o("div",{class:"input-tools-title"},"参考资源",-1)),o("div",Pe,[o("div",{class:"input-tools-tab-item-bg",style:g({left:2.25*m.value+"rem"})},null,4),(s(),i(r,null,v(u,((e,a)=>o("div",{class:n(["input-tools-tab-item",{selected:m.value===a}]),onClick:e=>m.value=a,key:a},d(e.name),11,Fe))),64))]),o("div",Ge,[c(b,null,{default:p((()=>[(s(),t(f(u[m.value].components)))])),_:1})])])}}},[["__scopeId","data-v-33150832"]]),Ae={class:"ai-body"},Ye={class:"logo-area"},qe=["src"],ze={class:"ai-input-area"},Ee=["step"],He=["step"],Le=w({__name:"index",setup(e){a([]);const l=a(0),t=a(null),u=a(!1),d=a(null),r=a(0),v=a(0),m=a([{uuid:x(),title:"卡通猫狗主题纹样",image:P,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"},{uuid:x(),title:"卡通猫狗主题纹样",image:P,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"},{uuid:x(),title:"卡通猫狗主题纹样",image:P,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"}]),g=()=>{m.value.splice(0,1),k((()=>{m.value.push({uuid:x(),title:"卡通猫狗主题纹样",image:P,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"}),k((()=>{t.value.initStatus()}))}))},p=()=>{u.value=!0,setTimeout((()=>{d.value.setInput(m.value[0].content)}),300)},f=()=>{2!==r.value&&(v.value=1,r.value=1,setTimeout((()=>{v.value=2,r.value=2}),300))},_=()=>{v.value=1,r.value=1,setTimeout((()=>{v.value=0,r.value=0}),300)};return b((()=>{l.value=0,window.loading||(window.loading=j()),setTimeout((()=>{window.loading&&(window.loading.close(),window.loading=null)}),300)})),(e,a)=>(s(),i("div",Ae,[a[2]||(a[2]=o("div",{class:"bg"},null,-1)),o("div",{class:n(["ai-input-box",{inputing:u.value,tools_opened:2===r.value}])},[o("div",Ye,[o("img",{src:y(h)},null,8,qe),a[1]||(a[1]=o("label",null,"Oplus",-1))]),o("div",ze,[c(T,{style:{"box-shadow":"var(--op-thr-shadow)"},ref_key:"opInputRef",ref:d,onOpenTools:f},null,512)])],2),o("div",{class:"ai-message-list",ref:"barrageListDom",step:v.value},[c(pe,{list:m.value,onGetDataOnce:g,onToInput:p,ref_key:"cardBoxRef",ref:t},null,8,["list"])],8,Ee),o("div",{class:"ai-message-tools",step:r.value,onClick:_},[o("div",{class:"ai-message-tools-info",onClick:a[0]||(a[0]=C((()=>{}),["stop"]))},[c(Ze)])],8,He)]))}},[["__scopeId","data-v-d9ea652b"]]);export{Le as default};
