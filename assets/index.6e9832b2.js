import{i as e,g as l,b as a}from"./cloud.470aa56a.js";import{f as t,h as u,k as o,w as s,r as d,o as n,i,c,j as r,m,M as v,E as p,N as h,O as f,p as V,n as _}from"./lib.12bfc313.js";import{_ as b,b as k}from"./index.14269c3f.js";import{t as x,a as g,b as y,c as w}from"./tips_4.4304ef8d.js";const U=e=>(V("data-v-02755d96"),e=e(),_(),e),C={class:"texture-body"},$={class:"texture-input-area"},j={class:"texture-upload"},T={class:"texture-input"},D={class:"texture-handle"},z={class:"texture-handle-btn-area"},F=U((()=>i("span",{class:"handle-btn-text"}," 随机一下 ",-1))),I=U((()=>i("span",{class:"handle-btn-text"}," 生成 ",-1))),L={class:"checkout-handle"},R={class:"checkout-item"},S={class:"checkout-label"},A={class:"checkout-setting"},E={class:"checkout-handle"},M={class:"checkout-item"},N={class:"checkout-label"},O={class:"checkout-setting"},q={class:"checkout-handle"},B={class:"checkout-item"},G={class:"checkout-label"},H={class:"checkout-setting"},J={class:"checkout-handle"},K={class:"checkout-item"},P={class:"checkout-label"},Q={class:"checkout-setting"};var W=b({__name:"index",setup(V){const _=t(""),b=t(null),U=t(null),W=t(50),X=t(3),Y=t([]),Z=t(!1),ee=["Style","Style Composition","Lineart","Image edit"],le=()=>{l().then((e=>{_.value=e}))},ae=e=>{if(e.size>104857600)return p.error(`您所上传的${e.name}文件大于100mb`),!1;b.value=e;const l=new FileReader;return l.onload=({target:e})=>{U.value=e.result},l.readAsDataURL(e),!1},te=()=>{if(!b.value)return void p.error("请上传图片后操作");const e=new FormData;e.append("ref_image",b.value);const l={formData:e,prompt:_.value,width:1024,height:1024,ref_type:ee[X.value],ref_sim:W.value/100};Z.value=!0,a(l).then((e=>{Z.value=!1,Y.value.unshift(`${k}/1n/${e}`)}))};return(l,a)=>{const t=d("el-image"),p=d("el-icon"),V=d("el-upload"),b=d("el-input"),k=d("el-button"),ee=d("el-popover"),ue=d("el-radio"),oe=d("el-slider");return n(),u("div",C,[o(e,{title:"单张图修改",modelValue:Y.value,"onUpdate:modelValue":a[13]||(a[13]=e=>Y.value=e),"is-loading":Z.value},{input:s((()=>[i("div",$,[i("div",j,[o(V,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":ae},{default:s((()=>[U.value?(n(),c(t,{key:0,src:U.value,class:"avatar"},null,8,["src"])):(n(),c(p,{key:1,class:"avatar-uploader-icon"},{default:s((()=>[o(r(h))])),_:1}))])),_:1})]),i("div",T,[o(b,{class:"texture-input-item",type:"textarea",modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),"show-word-limit":"",resize:"none"},null,8,["modelValue"])]),i("div",D,[i("div",z,[o(k,{class:"handle-btn",onClick:le},{default:s((()=>[F])),_:1}),o(k,{class:"handle-btn",onClick:te},{default:s((()=>[I])),_:1})]),i("div",L,[i("div",R,[o(ue,{onChange:a[1]||(a[1]=e=>W.value=100),modelValue:X.value,"onUpdate:modelValue":a[2]||(a[2]=e=>X.value=e),value:0},{default:s((()=>[i("label",S,[m(" 风格参考 "),o(ee,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:s((()=>[o(k,{class:"m-2",type:"text"},{default:s((()=>[o(p,null,{default:s((()=>[o(r(f))])),_:1})])),_:1})])),default:s((()=>[o(t,{src:r(x),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),i("div",A,[0===X.value?(n(),c(oe,{key:0,"format-tooltip":e=>`风格相似度 ${W.value}%`,modelValue:W.value,"onUpdate:modelValue":a[3]||(a[3]=e=>W.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):v("",!0)])]),i("div",E,[i("div",M,[o(ue,{onChange:a[4]||(a[4]=e=>W.value=100),modelValue:X.value,"onUpdate:modelValue":a[5]||(a[5]=e=>X.value=e),value:1},{default:s((()=>[i("label",N,[m(" 结构参考 "),o(ee,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:s((()=>[o(k,{class:"m-2",type:"text"},{default:s((()=>[o(p,null,{default:s((()=>[o(r(f))])),_:1})])),_:1})])),default:s((()=>[o(t,{src:r(g),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),i("div",O,[1===X.value?(n(),c(oe,{key:0,"format-tooltip":e=>`结构相似度 ${W.value}%`,modelValue:W.value,"onUpdate:modelValue":a[6]||(a[6]=e=>W.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):v("",!0)])]),i("div",q,[i("div",B,[o(ue,{onChange:a[7]||(a[7]=e=>W.value=100),modelValue:X.value,"onUpdate:modelValue":a[8]||(a[8]=e=>X.value=e),value:2},{default:s((()=>[i("label",G,[m(" 准确结构参考 "),o(ee,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:s((()=>[o(k,{class:"m-2",type:"text"},{default:s((()=>[o(p,null,{default:s((()=>[o(r(f))])),_:1})])),_:1})])),default:s((()=>[o(t,{src:r(y),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),i("div",H,[2===X.value?(n(),c(oe,{key:0,"format-tooltip":e=>`结构相似度 ${W.value}%`,modelValue:W.value,"onUpdate:modelValue":a[9]||(a[9]=e=>W.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):v("",!0)])]),i("div",J,[i("div",K,[o(ue,{onChange:a[10]||(a[10]=e=>W.value=50),modelValue:X.value,"onUpdate:modelValue":a[11]||(a[11]=e=>X.value=e),value:3},{default:s((()=>[i("label",P,[m(" 基于原图重绘 "),o(ee,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:s((()=>[o(k,{class:"m-2",type:"text"},{default:s((()=>[o(p,null,{default:s((()=>[o(r(f))])),_:1})])),_:1})])),default:s((()=>[o(t,{src:r(w),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),i("div",Q,[3===X.value?(n(),c(oe,{key:0,"format-tooltip":e=>`重绘幅度 ${W.value}%`,modelValue:W.value,"onUpdate:modelValue":a[12]||(a[12]=e=>W.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):v("",!0)])])])])])),_:1},8,["modelValue","is-loading"])])}}},[["__scopeId","data-v-02755d96"]]);export{W as default};
