import{T as e,g as a,a as t}from"./index.235e5ab5.js";import{y as s,r as l,o as n,B as o,e as i,f as r,b as u}from"./lib.adc83b71.js";const m={__name:"index",setup(m){const c=s(),v=l([]),d=l([]),p=l([]),w=l([]),y=l(!1),g=l({canvasData:{name:c.query.file_name||"",width:2048,height:2048}}),b=l({groups:{},layers:{},elements:{}}),h=()=>{window.loading||(window.loading=e()),Promise.all([new Promise((e=>{a("colors").then((a=>{const t=a?a.templates:{};p.value=Object.keys(t),e()}))})),new Promise((e=>{a("texts").then((a=>{const t=a?a.templates:{};w.value=Object.keys(t),e()}))})),new Promise((e=>{a("prompts").then((a=>{const t=a?a.templates:{};v.value=Object.keys(t),e()}))})),new Promise((e=>{a("statics").then((a=>{const t=a?a.templates:{};d.value=Object.keys(t),e()}))})),new Promise((e=>{g.value.canvasData.name?t("layouts",g.value.canvasData.name).then((a=>{g.value=Object.assign(g.value,a.viewData),b.value=a.layerData,e()})):e()}))]).then((()=>{y.value=!0,window.loading.close(),window.loading=null}))};return n((()=>{h()})),(e,a)=>{const t=o("modelEditor");return y.value?(i(),r(t,{key:0,colorsList:p.value,textsList:w.value,editorType:"edit",promptsList:v.value,staticsList:d.value,setting:g.value,layerData:b.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData"])):u("",!0)}}};export{m as default};
