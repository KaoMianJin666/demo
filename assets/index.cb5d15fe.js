import{i as e,g as a,b as l}from"./cloud.168a8e71.js";import{f as u,h as t,k as s,w as o,r as d,o as n,i as c,c as i,j as v,L as m,E as r,M as h,p,n as V}from"./lib.2626f9a7.js";import{_ as k,b as f}from"./index.71ee6279.js";const b=e=>(p("data-v-2c7cd40e"),e=e(),V(),e),x={class:"texture-body"},_={class:"texture-input-area"},g={class:"texture-upload"},y={class:"texture-input"},U={class:"texture-handle"},w={class:"texture-handle-btn-area"},C=b((()=>c("span",{class:"handle-btn-text"}," 随机一下 ",-1))),j={class:"checkout-handle"},D={class:"checkout-item"},L=b((()=>c("label",{class:"checkout-label"}," 风格参考 ",-1))),$={class:"checkout-setting"},z={class:"checkout-handle"},F={class:"checkout-item"},I=b((()=>c("label",{class:"checkout-label"}," 结构参考 ",-1))),R={class:"checkout-setting"},S={class:"checkout-handle"},A={class:"checkout-item"},E=b((()=>c("label",{class:"checkout-label"}," 准确结构参考 ",-1))),M={class:"checkout-setting"},q={class:"checkout-handle"},B={class:"checkout-item"},G=b((()=>c("label",{class:"checkout-label"}," 原图相似度 ",-1))),H={class:"checkout-setting"};var J=k({__name:"index",setup(p){const V=u(""),k=u(null),b=u(null),J=u(100),K=u(0),N=u([]),O=["Style","Style Composition","Lineart","Image edit"],P=()=>{a().then((e=>{V.value=e}))},Q=e=>{if(e.size>104857600)return r.error(`您所上传的${e.name}文件大于100mb`),!1;k.value=e;const a=new FileReader;return a.onload=({target:e})=>{b.value=e.result},a.readAsDataURL(e),!1},T=()=>{if(!k.value)return void r.error("请上传图片后操作");const e=new FormData;e.append("ref_image",k.value);const a={formData:e,prompt:V.value,width:1024,height:1024,ref_type:O[K.value],ref_sim:J.value/100};l(a).then((e=>{N.value.unshift(`${f}/1n/${e}`)}))};return(a,l)=>{const u=d("el-image"),r=d("el-icon"),p=d("el-upload"),k=d("el-input"),f=d("el-button"),O=d("el-radio"),W=d("el-slider");return n(),t("div",x,[s(e,{title:"单张图修改","image-list":N.value},{input:o((()=>[c("div",_,[c("div",g,[s(p,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":Q},{default:o((()=>[b.value?(n(),i(u,{key:0,src:b.value,class:"avatar"},null,8,["src"])):(n(),i(r,{key:1,class:"avatar-uploader-icon"},{default:o((()=>[s(v(h))])),_:1}))])),_:1})]),c("div",y,[s(k,{class:"texture-input-item",type:"textarea",modelValue:V.value,"onUpdate:modelValue":l[0]||(l[0]=e=>V.value=e),"show-word-limit":"",resize:"none"},null,8,["modelValue"])]),c("div",U,[c("div",w,[s(f,{class:"handle-btn",onClick:P},{default:o((()=>[C])),_:1}),s(f,{class:"handle-btn"},{default:o((()=>[c("span",{class:"handle-btn-text",onClick:T}," 生成 ")])),_:1})]),c("div",j,[c("div",D,[s(O,{onChange:l[1]||(l[1]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[2]||(l[2]=e=>K.value=e),value:0},{default:o((()=>[L])),_:1},8,["modelValue"])]),c("div",$,[0===K.value?(n(),i(W,{key:0,modelValue:J.value,"onUpdate:modelValue":l[3]||(l[3]=e=>J.value=e),min:0,max:100},null,8,["modelValue"])):m("",!0)])]),c("div",z,[c("div",F,[s(O,{onChange:l[4]||(l[4]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[5]||(l[5]=e=>K.value=e),value:1},{default:o((()=>[I])),_:1},8,["modelValue"])]),c("div",R,[1===K.value?(n(),i(W,{key:0,modelValue:J.value,"onUpdate:modelValue":l[6]||(l[6]=e=>J.value=e),min:0,max:100},null,8,["modelValue"])):m("",!0)])]),c("div",S,[c("div",A,[s(O,{onChange:l[7]||(l[7]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[8]||(l[8]=e=>K.value=e),value:2},{default:o((()=>[E])),_:1},8,["modelValue"])]),c("div",M,[2===K.value?(n(),i(W,{key:0,modelValue:J.value,"onUpdate:modelValue":l[9]||(l[9]=e=>J.value=e),min:0,max:100},null,8,["modelValue"])):m("",!0)])]),c("div",q,[c("div",B,[s(O,{onChange:l[10]||(l[10]=e=>J.value=100),modelValue:K.value,"onUpdate:modelValue":l[11]||(l[11]=e=>K.value=e),value:3},{default:o((()=>[G])),_:1},8,["modelValue"])]),c("div",H,[3===K.value?(n(),i(W,{key:0,modelValue:J.value,"onUpdate:modelValue":l[12]||(l[12]=e=>J.value=e),min:0,max:100},null,8,["modelValue"])):m("",!0)])])])])])),_:1},8,["image-list"])])}}},[["__scopeId","data-v-2c7cd40e"]]);export{J as default};
