import{T as a,g as e,a as t}from"./index.47385873.js";import{r as l,j as s,s as n,k as i,J as o,a as r,o as u}from"./lib.2ed4982d.js";const d={__name:"index",setup(d){const m=o(),v=l([]),p=l([]),w=l(!1),c=l(m.query.template_id),g=l({template_filter:"nomal",template_level:"nomal",points:1}),y=l({canvasData:{name:m.query.file_name||"",width:2048,height:2048}}),f=l({groups:{},layers:{},elements:{}}),h=()=>{window.loading||(window.loading=a()),Promise.all([new Promise((a=>{e("prompts").then((e=>{v.value=e.data,a()}))})),new Promise((a=>{e("statics").then((e=>{p.value=e.data,a()}))})),new Promise((a=>{y.value.canvasData.name?t(c.value,"layouts",y.value.canvasData.name).then((e=>{y.value=Object.assign(y.value,e.data.viewData),f.value=e.data.layerData,g.value=e.data.info,a()})):a()}))]).then((()=>{w.value=!0,window.loading.close(),window.loading=null}))};return s((()=>{h()})),(a,e)=>{const t=r("modelEditor");return w.value?(u(),n(t,{key:0,editorType:"generate",info:g.value,templateId:c.value,layerData:f.value,promptsList:v.value,staticsList:p.value,setting:y.value},null,8,["info","templateId","layerData","promptsList","staticsList","setting"])):i("",!0)}}};export{d as default};
