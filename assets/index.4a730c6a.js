import{i as e,g as a,c as l}from"./cloud.470aa56a.js";import{f as t,h as u,k as s,w as o,r as d,o as r,i as n,c,j as i,m as v,M as m,E as p,N as f,O as h,p as _,n as b}from"./lib.12bfc313.js";import{_ as V,b as k}from"./index.14269c3f.js";import{t as x,a as g,b as y,c as w}from"./tips_4.4304ef8d.js";const U=e=>(_("data-v-04826b98"),e=e(),b(),e),$={class:"texture-body"},j={class:"texture-input-area"},R={class:"texture-upload"},T={class:"texture-handle"},z={class:"checkout-handle"},D={class:"checkout-item"},F={class:"checkout-label"},A={class:"checkout-setting"},C={class:"checkout-handle"},L={class:"checkout-item"},E={class:"checkout-label"},I={class:"checkout-setting"},M={class:"texture-input"},N={class:"texture-handle-btn-area"},O=U((()=>n("span",{class:"handle-btn-text"}," 随机一下 ",-1))),q=U((()=>n("span",{class:"handle-btn-text"}," 生成 ",-1))),B={class:"texture-upload"},G={class:"texture-handle"},H={class:"checkout-handle"},J={class:"checkout-item"},K={class:"checkout-label"},P={class:"checkout-setting"},Q={class:"checkout-handle"},S={class:"checkout-item"},W={class:"checkout-label"},X={class:"checkout-setting"};var Y=V({__name:"index",setup(_){const b=t(""),V=t(null),U=t(null),Y=t(null),Z=t(null),ee=t(!1),ae=t(!1),le=t(!1),te=t(!0),ue=t(100),se=t(100),oe=t(100),de=t(50),re=t(!1),ne=t([]),ce=e=>{if(e.size>104857600)return p.error(`您所上传的${e.name}文件大于100mb`),!1;V.value=e;const a=new FileReader;return a.onload=({target:e})=>{U.value=e.result},a.readAsDataURL(e),!1},ie=e=>{if(e.size>104857600)return p.error(`您所上传的${e.name}文件大于100mb`),!1;Y.value=e;const a=new FileReader;return a.onload=({target:e})=>{Z.value=e.result},a.readAsDataURL(e),!1},ve=()=>{a().then((e=>{b.value=e}))},me=()=>{if(!V.value)return void p.error("请上传左侧图片后操作");if(!Y.value)return void p.error("请上传右侧图片后操作");const e=new FormData;e.append("ref_image",V.value),e.append("base_image",Y.value);const a={params:{prompt:b.value,width:1024,height:1024},data:e};ee.value&&(a.params.ref_style_sim=ue.value/100),ae.value&&(a.params.ref_comp_sim=se.value/100),le.value&&(a.params.lineart_sim=oe.value/100),te.value&&(a.params.base_sim=de.value/100),re.value=!0,l(a).then((e=>{ne.value.unshift(`${k}/1n/${e}`),re.value=!1}))};return(a,l)=>{const t=d("el-image"),p=d("el-icon"),_=d("el-upload"),V=d("el-button"),k=d("el-popover"),Y=d("el-checkbox"),pe=d("el-slider"),fe=d("el-input");return r(),u("div",$,[s(e,{title:"两张图融合",modelValue:ne.value,"onUpdate:modelValue":l[9]||(l[9]=e=>ne.value=e),"is-loading":re.value},{input:o((()=>[n("div",j,[n("div",R,[s(_,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":ce},{default:o((()=>[U.value?(r(),c(t,{key:0,src:U.value,class:"avatar"},null,8,["src"])):(r(),c(p,{key:1,class:"avatar-uploader-icon"},{default:o((()=>[s(i(f))])),_:1}))])),_:1})]),n("div",T,[n("div",z,[n("div",D,[s(Y,{modelValue:ee.value,"onUpdate:modelValue":l[0]||(l[0]=e=>ee.value=e),value:!0},{default:o((()=>[n("label",F,[v(" 风格融合 "),s(k,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:o((()=>[s(V,{class:"m-2",type:"text"},{default:o((()=>[s(p,null,{default:o((()=>[s(i(h))])),_:1})])),_:1})])),default:o((()=>[s(t,{src:i(x),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),n("div",A,[ee.value?(r(),c(pe,{key:0,"format-tooltip":e=>`风格相似度 ${ue.value}%`,modelValue:ue.value,"onUpdate:modelValue":l[1]||(l[1]=e=>ue.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])]),n("div",C,[n("div",L,[s(Y,{modelValue:ae.value,"onUpdate:modelValue":l[2]||(l[2]=e=>ae.value=e),value:!0},{default:o((()=>[n("label",E,[v(" 结构融合 "),s(k,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:o((()=>[s(V,{class:"m-2",type:"text"},{default:o((()=>[s(p,null,{default:o((()=>[s(i(h))])),_:1})])),_:1})])),default:o((()=>[s(t,{src:i(g),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),n("div",I,[ae.value?(r(),c(pe,{key:0,"format-tooltip":e=>`结构相似度 ${se.value}%`,modelValue:se.value,"onUpdate:modelValue":l[3]||(l[3]=e=>se.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])])]),n("div",M,[s(fe,{class:"texture-input-item",type:"textarea",modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=e=>b.value=e),"show-word-limit":"",resize:"none"},null,8,["modelValue"]),n("div",N,[s(V,{class:"handle-btn",onClick:ve},{default:o((()=>[O])),_:1}),s(V,{class:"handle-btn",onClick:me},{default:o((()=>[q])),_:1})])]),n("div",B,[s(_,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":ie},{default:o((()=>[Z.value?(r(),c(t,{key:0,src:Z.value,class:"avatar"},null,8,["src"])):(r(),c(p,{key:1,class:"avatar-uploader-icon"},{default:o((()=>[s(i(f))])),_:1}))])),_:1})]),n("div",G,[n("div",H,[n("div",J,[s(Y,{modelValue:le.value,"onUpdate:modelValue":l[5]||(l[5]=e=>le.value=e),value:!0},{default:o((()=>[n("label",K,[v(" 准确结构 "),s(k,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:o((()=>[s(V,{class:"m-2",type:"text"},{default:o((()=>[s(p,null,{default:o((()=>[s(i(h))])),_:1})])),_:1})])),default:o((()=>[s(t,{src:i(y),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),n("div",P,[le.value?(r(),c(pe,{key:0,"format-tooltip":e=>`结构相似度 ${oe.value}%`,modelValue:oe.value,"onUpdate:modelValue":l[6]||(l[6]=e=>oe.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])]),n("div",Q,[n("div",S,[s(Y,{modelValue:te.value,"onUpdate:modelValue":l[7]||(l[7]=e=>te.value=e),value:!0},{default:o((()=>[n("label",W,[v(" 原图重绘幅度 "),s(k,{placement:"bottom-start",title:"Tips",width:400,trigger:"hover",content:""},{reference:o((()=>[s(V,{class:"m-2",type:"text"},{default:o((()=>[s(p,null,{default:o((()=>[s(i(h))])),_:1})])),_:1})])),default:o((()=>[s(t,{src:i(w),style:{width:"370px"}},null,8,["src"])])),_:1})])])),_:1},8,["modelValue"])]),n("div",X,[te.value?(r(),c(pe,{key:0,"format-tooltip":e=>`原图重绘幅度 ${de.value}%`,modelValue:de.value,"onUpdate:modelValue":l[8]||(l[8]=e=>de.value=e),min:0,max:100},null,8,["format-tooltip","modelValue"])):m("",!0)])])])])])),_:1},8,["modelValue","is-loading"])])}}},[["__scopeId","data-v-04826b98"]]);export{Y as default};
