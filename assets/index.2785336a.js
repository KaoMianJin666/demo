import{T as e,g as t,a}from"./index.c96387f5.js";import{y as s,r as l,o as n,B as o,e as i,f as r,b as u}from"./lib.ceb054f3.js";const c={__name:"index",setup(c){const m=s(),v=l([]),d=l([]),p=l([]),w=l([]),y=l(!1),g=l({canvasData:{name:m.query.file_name||"",width:2048,height:2048}}),h=l({groups:{},layers:{},elements:{}}),b=()=>{window.loading||(window.loading=e()),Promise.all([new Promise((e=>{t("colors").then((t=>{const a=t?t.templates:{};p.value=Object.keys(a),e()}))})),new Promise((e=>{t("texts").then((t=>{const a=t?t.templates:{};w.value=Object.keys(a),e()}))})),new Promise((e=>{t("prompts").then((t=>{const a=t?t.templates:{};v.value=Object.keys(a),e()}))})),new Promise((e=>{t("statics").then((t=>{const a=t?t.templates:{};d.value=Object.keys(a),e()}))})),new Promise((e=>{g.value.canvasData.name?a("layouts",g.value.canvasData.name).then((t=>{g.value=Object.assign(g.value,t.viewData),h.value=t.layerData,e()})):e()}))]).then((()=>{y.value=!0,window.loading.close(),window.loading=null}))};return n((()=>{b()})),(e,t)=>{const a=o("modelEditor");return y.value?(i(),r(a,{key:0,colorsList:p.value,textsList:w.value,editorType:"edit",promptsList:v.value,staticsList:d.value,setting:g.value,layerData:h.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData"])):u("",!0)}}};export{c as default};
