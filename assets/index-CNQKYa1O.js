import{_ as e,T as a}from"./TLoading-Bct1L4DW.js";import{l as t}from"./logo2-l66aD4rS.js";import{o as l}from"./opInput-Dd1YqkAh.js";import{r as s,t as i,o,h as n,i as d,j as u,x as r,s as v,y as c,G as m,A as p,F as g,q as x,v as f,H as y,k as C,C as h}from"./lib-CZQAdzIv.js";import"./index-Dc2RlmRA.js";import"./index-2JieiYcA.js";import"./modelEditor-CiKE7pJT.js";const b="/assets/barrage-ud4ZyC8D.png",_=["index","step"],w={class:"card-info"},k={class:"card-image"},B=["src"],I={class:"card-tag-area"},S=e({__name:"card",props:["data","index","opened","mousePosition","removingStatus"],emits:["selectCard","removingCard","setCardBg","setIsFinishInit"],setup(e,{expose:a,emit:t}){const l=e,g=t,x=s(0),f=s(!1),y=s(!1),C=s({}),h=s(null),b=s(!1),S=s(!1),T=i(l,"mousePosition"),j=i(l,"removingStatus"),$=()=>{let e=0-l.index,a=`rotate(${23+-10*(l.index+1)+90*(x.value-1)}deg) translateZ(${5-5*l.index}rem)`,t="center 80rem";if(2!==x.value&&3!==x.value||(a=`rotate(${20+-15*(l.index+1)}deg)`,t="60% 70%",j.value&&(a=`rotate(${20+-15*l.index}deg)`)),3===x.value&&0===l.index&&!f.value){C.value=h.value.getBoundingClientRect();const s=C.value.x+C.value.width/2;let i=0;s-C.value.width/2>T.value.x?(t="left center",a=`rotate3d(0, 1, ${i},-35deg) translateZ(5rem)`,e=0-30*l.index,g("setCardBg","left")):s+C.value.width/2<T.value.x?(t="right center",a=`rotate3d(0, 1, ${-i},35deg) translateZ(5rem)`,e=0-30*l.index,g("setCardBg","right")):g("setCardBg",null)}return{transformOrigin:t,zIndex:e,transform:`${a}`}},D=()=>{x.value+=1,3!==x.value?setTimeout((()=>{D()}),500):g("setIsFinishInit")},O=(e=!0)=>{0===l.index&&(y.value||f.value!==e&&(f.value=e,y.value=!0,f.value?setTimeout((()=>{g("selectCard",e),y.value=!1}),300):(g("selectCard",e),y.value=!1)))};return a({toSelected:O,removeCard:()=>{b.value=!0,g("removingCard"),setTimeout((()=>{S.value=!0}),300)}}),o((()=>{setTimeout((()=>{D()}),1e3)})),(a,t)=>(n(),d("div",{class:c(["card-body",{selected:f.value,opened:e.opened,removing:b.value,removed:S.value}]),index:e.index,ref_key:"boxRef",ref:h,onClick:t[0]||(t[0]=m((e=>O(!0)),["stop"])),style:p($()),step:x.value},[t[1]||(t[1]=u("div",{class:"card-bg"},null,-1)),u("div",w,[u("div",k,[u("img",{src:r("/assets/card-Bj8nOcCG.png"),draggable:!1},null,8,B)]),u("div",I,v(e.index)+" "+v(j.value),1)])],14,_))}},[["__scopeId","data-v-9bf7259e"]]),T=["type"],j=["type"],$=["type"],D=e({__name:"cardBox",props:["list"],emits:["getDataOnce"],setup(e,{expose:a,emit:t}){const l=t,i=s(!1),o=s(!1),r=s(null),v=s(!1),y=s({}),C=s(!1),h=s(null),b=s(!1),_=e=>{h.value=e},w=()=>{b.value=!0},k=e=>{C.value||v.value||(e?(v.value=!0,i.value=e,setTimeout((()=>{o.value=!0,v.value=!1}),300)):(v.value=!0,o.value=!1,setTimeout((()=>{i.value=e,v.value=!1}),300)))},B=()=>{setTimeout((()=>{l("getDataOnce")}),600)},I=e=>i.value?0===e?"opacity: 1":"opacity: 0;width: 7rem;":"opacity: 1",D=()=>{v.value||(v.value=!0,o.value=!1,setTimeout((()=>{v.value=!1,r.value[0].toSelected(!1)}),300))},O=()=>{C.value||v.value||(C.value=!0,r.value[0].removeCard())};a({initStatus:()=>{v.value=!1,C.value=!1}});const R=e=>{const{pageX:a,pageY:t}=e;y.value={x:a,y:t}};return(a,t)=>(n(),d("div",{class:c(["card-box-body",{selected:o.value,is_finish_init:b.value}]),onClick:D,onMousemove:R},[u("div",{class:"left-handle",onClick:t[0]||(t[0]=m((()=>{}),["stop"])),type:h.value},[u("label",{onClick:m(O,["stop"])},"给我换一个!")],8,T),u("div",{class:c(["card-info-box",{selected:o.value}])},[u("div",{class:"card-bg",type:h.value},null,8,j),(n(!0),d(g,null,x(e.list,((e,a)=>(n(),f(S,{ref_for:!0,ref_key:"cardRef",ref:r,mousePosition:y.value,opened:o.value,style:p(I(a)),key:e.uuid,data:e,onRemovingCard:B,index:a,onSelectCard:k,onSetCardBg:_,onSetIsFinishInit:w,removingStatus:C.value},null,8,["mousePosition","opened","style","data","index","removingStatus"])))),128))],2),u("div",{class:"right-handle",onClick:t[1]||(t[1]=m((()=>{}),["stop"])),type:h.value},"试试这个?",8,$)],34))}},[["__scopeId","data-v-1e40a7b0"]]),O={class:"ai-body"},R={class:"bg"},F=["src"],P={class:"ai-input-box"},Z={class:"logo-area"},G=["src"],E={class:"ai-input-area"},L=e({__name:"index",setup(e){const i=s(null),v=s({});s([]);const c=s(0),m=s(null),p=s([{uuid:y(),title:"卡通猫狗主题纹样",image:b,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"},{uuid:y(),title:"卡通猫狗主题纹样",image:b,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"},{uuid:y(),title:"卡通猫狗主题纹样",image:b,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"}]),g=()=>{p.value.splice(0,1),h((()=>{p.value.push({uuid:y(),title:"卡通猫狗主题纹样",image:b,content:"帮我设计一个卡通猫狗主题纹样，格子背景，平面卡通，加上一些碎元素"}),h((()=>{m.value.initStatus()}))}))};return o((()=>{v.value=i.value.getBoundingClientRect(),c.value=0,window.loading||(window.loading=a()),setTimeout((()=>{window.loading&&(window.loading.close(),window.loading=null)}),300)})),(e,a)=>(n(),d("div",O,[u("div",R,[u("video",{style:{width:"100%",height:"100%","object-fit":"cover"},src:r("/assets/ai3-B4awNk5i.mp4"),ref:"videoDom",type:"video/mp4",onEnded:a[0]||(a[0]=(...a)=>e.replayVideo&&e.replayVideo(...a)),muted:"",playsinline:"",autoplay:""},null,40,F)]),u("div",P,[u("div",Z,[u("img",{src:r(t)},null,8,G),a[1]||(a[1]=u("label",null,"Oplus",-1))]),u("div",E,[C(l,{style:{"box-shadow":"var(--op-thr-shadow)"}})])]),u("div",{class:"ai-message-list",ref_key:"barrageListDom",ref:i},[C(D,{list:p.value,onGetDataOnce:g,ref_key:"cardBoxRef",ref:m},null,8,["list"])],512)]))}},[["__scopeId","data-v-86486d19"]]);export{L as default};
