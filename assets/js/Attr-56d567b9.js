import{C as d}from"./CommonAttr-fd096a75.js";import{n as c}from"./index-ed5a0879.js";import"./request-40870b9f.js";var p=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"edit-table"},[e("table",{on:{dblclick:t.onDblclick}},[e("tbody",t._l(t.tableData,function(n,a){return e("tr",{key:a},t._l(n,function(u,l){return e("td",{key:l,class:{selected:t.curTd===a+","+l},on:{click:function(s){return t.onClick(a,l)}}},[t.canEdit&&t.curTd===a+","+l?e("el-input",{directives:[{name:"focus",rawName:"v-focus"}],on:{blur:t.onBlur},model:{value:t.tableData[a][l],callback:function(s){t.$set(t.tableData[a],l,s)},expression:"tableData[row][col]"}}):e("span",[t._v(t._s(u))])],1)}),0)}),0)]),e("div",[e("button",{on:{click:t.addRow}},[t._v("添加新行")]),e("button",{on:{click:t.addCol}},[t._v("添加新列")]),e("button",{on:{click:t.deleteRow}},[t._v("删除行")]),e("button",{on:{click:t.deleteCol}},[t._v("删除列")])])])},_=[];const h={directives:{focus:{inserted(t){t.querySelector("input").focus()}}},data(){return{curProperty:"",curTd:"",canEdit:!1,preCurTd:""}},computed:{tableData(){return this.$store.state.curComponent.propValue.data}},methods:{onDblclick(){this.canEdit=!0},onClick(t,r){this.curTd=t+","+r,this.preCurTd=this.curTd},onBlur(){this.canEdit=!1,this.curTd=""},deleteRow(){if(!this.preCurTd){this.$message.error("请先选择要删除的行");return}const t=this.preCurTd.split(",")[0];this.tableData.splice(t,1)},addRow(){var t;this.tableData.push(new Array(((t=this.tableData[0])==null?void 0:t.length)||1).fill(" "))},addCol(){this.tableData.length?this.tableData.forEach(t=>t.push(" ")):this.tableData.push([" "])},deleteCol(){if(!this.preCurTd){this.$message.error("请先选择要删除的列");return}const t=this.preCurTd.split(",")[1];this.tableData.forEach(r=>{r.splice(t,1)})}}},o={};var f=c(h,p,_,!1,v,"2ca91751",null,null);function v(t){for(let r in o)this[r]=o[r]}const m=function(){return f.exports}();var b=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"attr-list v-talbe-attr"},[e("CommonAttr"),e("EditTable"),e("el-form",[e("el-form-item",{attrs:{label:"斑马纹"}},[e("el-switch",{model:{value:t.propValue.stripe,callback:function(n){t.$set(t.propValue,"stripe",n)},expression:"propValue.stripe"}})],1),e("el-form-item",{attrs:{label:"表头加粗"}},[e("el-switch",{model:{value:t.propValue.thBold,callback:function(n){t.$set(t.propValue,"thBold",n)},expression:"propValue.thBold"}})],1)],1)],1)},C=[];const $={components:{EditTable:m,CommonAttr:d},computed:{propValue(){return this.$store.state.curComponent.propValue}}},i={};var k=c($,b,C,!1,T,null,null,null);function T(t){for(let r in i)this[r]=i[r]}const x=function(){return k.exports}();export{x as default};
