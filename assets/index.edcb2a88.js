import{T as a,g as e,a as t}from"./index.47385873.js";import{J as s,r as l,j as i,a as n,o,s as r,k as u}from"./lib.2ed4982d.js";const d={__name:"index",setup(d){const m=s(),v=l([]),p=l([]),w=l([]),c=l([]),g=l({template_filter:"nomal",template_level:"nomal",points:1}),h=l(!1),y=l(m.query.template_id),f=l({canvasData:{name:m.query.file_name||"",width:2048,height:2048}}),L=l({groups:{},layers:{},elements:{}}),D=()=>{window.loading||(window.loading=a()),Promise.all([new Promise((a=>{e("colors").then((e=>{w.value=e.data,a()}))})),new Promise((a=>{e("texts").then((e=>{c.value=e.data,a()}))})),new Promise((a=>{e("prompts").then((e=>{v.value=e.data,a()}))})),new Promise((a=>{e("statics").then((e=>{p.value=e.data,a()}))})),new Promise((a=>{f.value.canvasData.name?t(y.value,"layouts",f.value.canvasData.name).then((e=>{f.value=Object.assign(f.value,e.data.viewData),L.value=e.data.layerData,g.value=e.info,a()})):a()}))]).then((()=>{h.value=!0,window.loading.close(),window.loading=null}))};return i((()=>{D()})),(a,e)=>{const t=n("modelEditor");return h.value?(o(),r(t,{key:0,colorsList:w.value,textsList:c.value,editorType:"edit",promptsList:v.value,staticsList:p.value,setting:f.value,layerData:L.value,templateId:y.value,info:g.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData","templateId","info"])):u("",!0)}}};export{d as default};
