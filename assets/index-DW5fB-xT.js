import{g as e,a}from"./promptSetting-DbeuZ1nY.js";import{r as t,G as s,o as l,C as i,J as o,D as n,k as r,L as m}from"./lib-B5SO1xxf.js";import{T as u}from"./TLoading-DznhV-9E.js";import{m as p}from"./index-DIB4CAJ2.js";import"./index-CHyfbQKH.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-D4R9gxHy.js";import"./file-C3RgH22k.js";import"./opInput-D-_AIMoI.js";import"./menu-B85Lp49n.js";const d={__name:"index",setup(d){const v=n(),w=t([]),g=t([]),c=t([]),j=t([]),f=t({template_filter:"nomal",template_level:"nomal",points:1}),h=t(!1),y=t(v.query.template_id?Number(v.query.template_id):null),L=t({canvasData:{name:v.query.file_name||"",width:2048,height:2048}}),_=t({groups:{},layers:{},elements:{}});s((()=>v.query.template_id),((e,a)=>{y.value=e,h.value=!1,m((()=>{h.value=!0}))}));const x=()=>{window.loading||(window.loading=u()),Promise.all([new Promise((a=>{e("colors").then((e=>{c.value=e.data,a()}))})),new Promise((a=>{e("texts").then((e=>{j.value=e.data,a()}))})),new Promise((a=>{e("prompts").then((e=>{w.value=e.data,a()}))})),new Promise((a=>{e("statics").then((e=>{g.value=e.data,a()}))})),new Promise((e=>{L.value.canvasData.name?a(y.value,"layouts",L.value.canvasData.name).then((a=>{L.value=Object.assign(L.value,a.data.viewData),_.value=a.data.layerData,f.value=a.info,e()})):e()}))]).then((()=>{window.loading&&(window.loading.close(),window.loading=null),setTimeout((()=>{h.value=!0}),500)}))};return l((()=>{x()})),(e,a)=>h.value?(r(),i(p,{key:0,colorsList:c.value,textsList:j.value,editorType:"edit",promptsList:w.value,staticsList:g.value,setting:L.value,layerData:_.value,templateId:y.value,info:f.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData","templateId","info"])):o("",!0)}};export{d as default};
