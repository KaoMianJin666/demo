import{g as e}from"./promptSetting-CbNxahym.js";import{g as a}from"./artwork-DNFv__Xv.js";import{r as t,J as s,o as i,D as l,H as o,E as n,k as r,M as m}from"./lib-CgYB7YUQ.js";import{T as u}from"./TLoading-DTK7_h7V.js";import{m as p}from"./index-C3i5BJMA.js";import"./index-ICHlCvNj.js";/* empty css                                                                 */import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-DBr3Z3sO.js";import"./file-C3RgH22k.js";import"./opInput-LxiBsE9o.js";import"./menu-B85Lp49n.js";const d={__name:"index",setup(d){const v=n(),w=t([]),_=t([]),g=t([]),c=t([]),j=t({template_filter:"nomal",template_level:"nomal",points:1}),y=t(!1),f=t(v.query.template_id?Number(v.query.template_id):null),h=t({canvasData:{name:v.query.file_name||"",width:2048,height:2048}}),x=t({groups:{},layers:{},elements:{}});s((()=>v.query.template_id),((e,a)=>{f.value=e,y.value=!1,m((()=>{y.value=!0}))}));const L=()=>{window.loading||(window.loading=u()),Promise.all([new Promise((a=>{e("colors").then((e=>{g.value=e.data,a()}))})),new Promise((a=>{e("texts").then((e=>{c.value=e.data,a()}))})),new Promise((a=>{e("prompts").then((e=>{w.value=e.data,a()}))})),new Promise((a=>{e("statics").then((e=>{_.value=e.data,a()}))})),new Promise((e=>{h.value.canvasData.name?a(f.value,"layouts",h.value.canvasData.name).then((a=>{h.value=Object.assign(h.value,a.data.viewData),x.value=a.data.layerData,j.value=a.info,e()})):e()}))]).then((()=>{window.loading&&(window.loading.close(),window.loading=null),setTimeout((()=>{y.value=!0}),500)}))};return i((()=>{L()})),(e,a)=>y.value?(r(),l(p,{key:0,colorsList:g.value,textsList:c.value,editorType:"edit",promptsList:w.value,staticsList:_.value,setting:h.value,layerData:x.value,templateId:f.value,info:j.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData","templateId","info"])):o("",!0)}};export{d as default};
