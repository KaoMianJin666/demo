import{T as e,g as a,a as t}from"./index.9397bacb.js";import{y as s,r as l,o as n,B as o,e as i,f as r,b as u}from"./lib.ceb054f3.js";const c={__name:"index",setup(c){const m=s(),v=l([]),d=l([]),p=l([]),w=l([]),y=l(!1),b=l({canvasData:{name:m.query.file_name||"",width:2048,height:2048}}),g=l({groups:{},layers:{},elements:{}}),h=()=>{window.loading||(window.loading=e()),Promise.all([new Promise((e=>{a("colors").then((a=>{const t=a?a.templates:{};p.value=Object.keys(t),e()}))})),new Promise((e=>{a("texts").then((a=>{const t=a?a.templates:{};w.value=Object.keys(t),e()}))})),new Promise((e=>{a("prompts").then((a=>{const t=a?a.templates:{};v.value=Object.keys(t),e()}))})),new Promise((e=>{a("statics").then((a=>{const t=a?a.templates:{};d.value=Object.keys(t),e()}))})),new Promise((e=>{b.value.canvasData.name?t("layouts",b.value.canvasData.name).then((a=>{b.value=Object.assign(b.value,a.viewData),g.value=a.layerData,e()})):e()}))]).then((()=>{y.value=!0,window.loading.close(),window.loading=null}))};return n((()=>{h()})),(e,a)=>{const t=o("modelEditor");return y.value?(i(),r(t,{key:0,colorsList:p.value,textsList:w.value,editorType:"edit",promptsList:v.value,staticsList:d.value,setting:b.value,layerData:g.value},null,8,["colorsList","textsList","promptsList","staticsList","setting","layerData"])):u("",!0)}}};export{c as default};
