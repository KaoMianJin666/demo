import{i as e,g as a,c as l}from"./cloud.168a8e71.js";import{f as u,h as t,k as s,w as d,r as o,o as n,i as c,c as i,j as r,L as v,E as m,M as p,p as h,n as f}from"./lib.2626f9a7.js";import{_ as k,b as V}from"./index.71ee6279.js";const b=e=>(h("data-v-027d1336"),e=e(),f(),e),_={class:"texture-body"},x={class:"texture-input-area"},g={class:"texture-upload"},y={class:"texture-handle"},U={class:"checkout-handle"},w={class:"checkout-item"},j=b((()=>c("label",{class:"checkout-label"}," 风格融合 ",-1))),R={class:"checkout-setting"},$={class:"checkout-handle"},z={class:"checkout-item"},D=b((()=>c("label",{class:"checkout-label"}," 结构融合 ",-1))),F={class:"checkout-setting"},L={class:"texture-input"},A={class:"texture-handle-btn-area"},C=b((()=>c("span",{class:"handle-btn-text"}," 随机一下 ",-1))),E=b((()=>c("span",{class:"handle-btn-text"}," 生成 ",-1))),I={class:"texture-upload"},M={class:"texture-handle"},q={class:"checkout-handle"},B={class:"checkout-item"},G=b((()=>c("label",{class:"checkout-label"}," 准确结构 ",-1))),H={class:"checkout-setting"},J={class:"checkout-handle"},K={class:"checkout-item"},N=b((()=>c("label",{class:"checkout-label"}," 原图相似度 ",-1))),O={class:"checkout-setting"};var P=k({__name:"index",setup(h){const f=u(""),k=u(null),b=u(null),P=u(null),Q=u(null),S=u(!1),T=u(!1),W=u(!1),X=u(!1),Y=u(100),Z=u(100),ee=u(100),ae=u(100),le=u([]),ue=e=>{if(e.size>104857600)return m.error(`您所上传的${e.name}文件大于100mb`),!1;k.value=e;const a=new FileReader;return a.onload=({target:e})=>{b.value=e.result},a.readAsDataURL(e),!1},te=e=>{if(e.size>104857600)return m.error(`您所上传的${e.name}文件大于100mb`),!1;P.value=e;const a=new FileReader;return a.onload=({target:e})=>{Q.value=e.result},a.readAsDataURL(e),!1},se=()=>{a().then((e=>{f.value=e}))},de=()=>{if(!k.value)return void m.error("请上传左侧图片后操作");if(!P.value)return void m.error("请上传右侧图片后操作");const e=new FormData;e.append("ref_image",k.value),e.append("base_image",P.value);const a={params:{prompt:f.value,width:1024,height:1024},data:e};S.value&&(a.params.ref_style_sim=Y.value/100),T.value&&(a.params.ref_comp_sim=Z.value/100),W.value&&(a.params.lineart_sim=ee.value/100),X.value&&(a.params.base_sim=ae.value/100),l(a).then((e=>{le.value.unshift(`${V}/1n/${e}`)}))};return(a,l)=>{const u=o("el-image"),m=o("el-icon"),h=o("el-upload"),k=o("el-checkbox"),V=o("el-slider"),P=o("el-input"),oe=o("el-button");return n(),t("div",_,[s(e,{title:"两张图融合","image-list":le.value},{input:d((()=>[c("div",x,[c("div",g,[s(h,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":ue},{default:d((()=>[b.value?(n(),i(u,{key:0,src:b.value,class:"avatar"},null,8,["src"])):(n(),i(m,{key:1,class:"avatar-uploader-icon"},{default:d((()=>[s(r(p))])),_:1}))])),_:1})]),c("div",y,[c("div",U,[c("div",w,[s(k,{modelValue:S.value,"onUpdate:modelValue":l[0]||(l[0]=e=>S.value=e),value:!0},{default:d((()=>[j])),_:1},8,["modelValue"])]),c("div",R,[S.value?(n(),i(V,{key:0,modelValue:Y.value,"onUpdate:modelValue":l[1]||(l[1]=e=>Y.value=e),min:0,max:100},null,8,["modelValue"])):v("",!0)])]),c("div",$,[c("div",z,[s(k,{modelValue:T.value,"onUpdate:modelValue":l[2]||(l[2]=e=>T.value=e),value:!0},{default:d((()=>[D])),_:1},8,["modelValue"])]),c("div",F,[T.value?(n(),i(V,{key:0,modelValue:Z.value,"onUpdate:modelValue":l[3]||(l[3]=e=>Z.value=e),min:0,max:100},null,8,["modelValue"])):v("",!0)])])]),c("div",L,[s(P,{class:"texture-input-item",type:"textarea",modelValue:f.value,"onUpdate:modelValue":l[4]||(l[4]=e=>f.value=e),"show-word-limit":"",resize:"none"},null,8,["modelValue"]),c("div",A,[s(oe,{class:"handle-btn",onClick:se},{default:d((()=>[C])),_:1}),s(oe,{class:"handle-btn",onClick:de},{default:d((()=>[E])),_:1})])]),c("div",I,[s(h,{class:"avatar-uploader",action:"","show-file-list":!1,"before-upload":te},{default:d((()=>[Q.value?(n(),i(u,{key:0,src:Q.value,class:"avatar"},null,8,["src"])):(n(),i(m,{key:1,class:"avatar-uploader-icon"},{default:d((()=>[s(r(p))])),_:1}))])),_:1})]),c("div",M,[c("div",q,[c("div",B,[s(k,{modelValue:W.value,"onUpdate:modelValue":l[5]||(l[5]=e=>W.value=e),value:!0},{default:d((()=>[G])),_:1},8,["modelValue"])]),c("div",H,[W.value?(n(),i(V,{key:0,modelValue:ee.value,"onUpdate:modelValue":l[6]||(l[6]=e=>ee.value=e),min:0,max:100},null,8,["modelValue"])):v("",!0)])]),c("div",J,[c("div",K,[s(k,{modelValue:X.value,"onUpdate:modelValue":l[7]||(l[7]=e=>X.value=e),value:!0},{default:d((()=>[N])),_:1},8,["modelValue"])]),c("div",O,[X.value?(n(),i(V,{key:0,modelValue:ae.value,"onUpdate:modelValue":l[8]||(l[8]=e=>ae.value=e),min:0,max:100},null,8,["modelValue"])):v("",!0)])])])])])),_:1},8,["image-list"])])}}},[["__scopeId","data-v-027d1336"]]);export{P as default};
