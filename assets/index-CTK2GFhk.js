import{T as e}from"./TLoading-FusFGd4y.js";import{t as a,h as s,i as t,j as l,s as n,F as o,q as r,C as i,x as d,r as u,g as c,v as p,y as v,u as m,D as y,k as g,I as _,J as f,o as k,p as w,m as b,w as h}from"./lib-Dn7wYpIU.js";import{l as j}from"./logo2-l66aD4rS.js";import{o as x,j as C}from"./index-ZrP_5N1V.js";import{_ as D}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{u as I,r as q}from"./index-B9TnIHOe.js";import{a as T}from"./promptSetting-DuueCFwX.js";const J={class:"resoure-data-body"},O={class:"data-area"},S={class:"name"},L={class:"data-content-area"},P={class:"data-content-box"},U={key:0},z={key:1},E={class:"data-image-area"},F=["src"],N=D({__name:"resourceData",props:["type","data"],setup(e){const u=e,c=a(u,"data"),p=u.type,v={prompts:[{name:"资源描述",type:"string",key:"description"},{name:"关键词语",type:"arr",key:"keywords"},{name:"触发词语",type:"string",key:"trigger"},{name:"资源权重",type:"string",key:"server_type"}],statics:[{name:"资源描述",type:"string",key:"description"},{name:"关键词语",type:"arr",key:"keywords"},{name:"资源文件夹",type:"string",key:"cloud_folder"}],texts:[{name:"资源描述",type:"string",key:"description"},{name:"关键词语",type:"arr",key:"keywords"},{name:"资源路径",type:"string",key:"font"}],colors:[{name:"资源描述",type:"string",key:"description"},{name:"关键词语",type:"arr",key:"keywords"},{name:"调色板",type:"color",key:""}]};return(e,a)=>(s(),t("div",J,[l("div",O,[l("div",S,n(c.value.resource_name),1),l("div",L,[l("div",P,[(s(!0),t(o,null,r(v[d(p)],(e=>(s(),t("div",{class:"data-content-item",key:e.name},[l("label",null,n(e.name),1),"string"===e.type?(s(),t("span",U,n(c.value[e.key]),1)):i("",!0),c.value[e.key]&&"arr"===e.type?(s(),t("span",z,n(c.value[e.key].join(",")),1)):i("",!0)])))),128))])])]),l("div",E,[l("img",{src:c.value.preview},null,8,F)])]))}},[["__scopeId","data-v-cefe61f5"]]),A=D({__name:"dataCard",props:{data:{type:Object,default:()=>({preview:null,name:null})}},setup(e){const{publicStore:l}=I(),n=a(l,"isCarryOut"),o=e,r=u([]),d=u(!0),m=u("imageDom"),y=()=>{r.value=[]};return(e,a)=>{const l=c("n-image");return s(),t("div",{class:v(["data-item",{expand:!n.value}])},[d.value?(s(),p(l,{key:0,ref_key:"imageDom",ref:m,width:"100%","object-fit":"cover","preview-disabled":"",onClose:y,"preview-src-list":r.value,src:o.data.preview,class:"model-image",fit:"contain"},null,8,["preview-src-list","src"])):i("",!0)],2)}}},[["__scopeId","data-v-9bbd36b6"]]),B={class:"image-card"},G={class:"image-area"},H={class:"prompts cn"},K={class:"copy-btn"},M={class:"prompts en"},Q={class:"copy-btn"},R=D({__name:"imagePreview",props:["to"],setup(e,{expose:a}){m();const t=u(!1),o=u(null),r=m(),i=u(null),_=u(null),f=(e="测试复制132456")=>{try{navigator.clipboard.writeText(e).then((()=>{r.info("复制成功")})).catch((e=>{}))}catch(s){var a=document.createElement("textarea");a.style.position="fixed",a.style.opacity=0,a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),r.info("复制成功")}};return a({init:e=>{o.value=e.file_path,i.value=e.prompt_cn,_.value=e.prompt_en,t.value=!0}}),(e,a)=>{const r=c("n-image"),u=c("n-modal");return s(),p(u,{show:t.value,"onUpdate:show":a[2]||(a[2]=e=>t.value=e),"auto-focus":!1},{default:y((()=>[l("div",B,[l("div",G,[g(r,{src:o.value,width:"100%",class:"image","object-fit":"cover","preview-disabled":""},null,8,["src"])]),l("div",H,[l("div",K,[l("i",{class:v(["bi",d(x)]),onClick:a[0]||(a[0]=e=>f())},null,2)]),l("div",null,[a[3]||(a[3]=l("label",null,"中文prompt",-1)),l("span",null,n(i.value),1)])]),l("div",M,[l("div",Q,[l("i",{class:v(["bi",d(x)]),onClick:a[1]||(a[1]=e=>f())},null,2)]),l("div",null,[a[4]||(a[4]=l("label",null,"英文prompt",-1)),l("span",null,n(_.value),1)])])])])),_:1},8,["show"])}}},[["__scopeId","data-v-354a20d8"]]),V={class:"resoure-data-body"},W={class:"resoure-data-title"},X={class:"json-input"},Y={class:"json-code"},Z=D({__name:"resourceJsonData",props:["type","data"],setup(e){_.registerLanguage("json",f);const o=e,r=a(o,"data");return o.type,u('{\n  "a":12346,\n  "b":"text"\n}'),(e,a)=>{const o=c("n-input"),i=c("n-code"),u=c("n-config-provider");return s(),t("div",V,[l("div",W,n(r.value.resource_name),1),l("div",X,[g(o,{rows:10,type:"textarea",value:r.value.data,"onUpdate:value":a[0]||(a[0]=e=>r.value.data=e)},null,8,["value"])]),l("div",Y,[g(u,{hljs:d(_)},{default:y((()=>[g(i,{"show-line-numbers":"",code:r.value.data,language:"json"},null,8,["code"])])),_:1},8,["hljs"])])])}}},[["__scopeId","data-v-fe6796d5"]]);const $={class:"resoure-info-body"},ee={class:"resoure-info-title"},ae={class:"logo-area"},se=["src"],te={class:"data-area"},le={key:2,class:"empty-block"},ne=D({__name:"index",setup(a){b();const m=h(),_=m.query.type,f={prompts:"动态资源",statics:"静态资源",texts:"文字资源",colors:"调色板资源",designs:"设计理念"},x=u(null),D=m.query.id,I=u({}),J=u({}),O=()=>{T(D).then((e=>{if(200===e.code){if(J.value.resource_name=e.info.resource_name,"designs"===_)J.value.data=JSON.stringify(e.data,null,2);else{const a=e.data;a.preview=e.info.preview,J.value=a}(a={folder_path:e.data.cloud_folder,page:1,page_size:1e5},q.post("/oplus/query_cloud_folder",a)).then((e=>{I.value=e.data}))}var a}))};return k((()=>{O(),window.loading||(window.loading=e()),setTimeout((()=>{window.loading&&(window.loading.close(),window.loading=null)}),300)})),(e,a)=>{const u=c("n-scrollbar");return s(),t("div",$,[l("div",ee,[l("div",ae,[l("img",{src:d(j)},null,8,se)]),l("div",null,[w(n(f[d(_)])+" ",1),l("i",{class:v(["bi logo-icon",d(C)])},null,2)])]),l("div",te,[g(u,null,{default:y((()=>["designs"===d(_)?(s(),p(Z,{key:0,data:J.value},null,8,["data"])):(s(),p(N,{key:1,type:d(_),data:J.value},null,8,["type","data"])),"designs"!==d(_)?(s(),t("div",le)):i("",!0),"designs"!==d(_)?(s(!0),t(o,{key:3},r(I.value,(e=>(s(),p(A,{key:e.template_id,onClick:a=>{return s=e,void x.value.init(s);var s},data:{name:e.template_name,preview:e.thumbnail}},null,8,["onClick","data"])))),128)):i("",!0)])),_:1})]),g(R,{ref_key:"imagePreviewDom",ref:x},null,512)])}}},[["__scopeId","data-v-66553f56"]]);export{ne as default};
